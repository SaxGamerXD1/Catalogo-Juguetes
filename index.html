<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Catálogo de Juguetes</title>

<style>
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  font-family:Arial, sans-serif;
}

body{
  background:#f5f5f5;
  color:#333;
}

.page{
  min-height:100vh;
  padding:20px;
  background:white;
}

.page-break{
  page-break-before:always;
  break-before:page;
}

/* ---------- PORTADA ---------- */
.portada{
  text-align:center;
}
.portada img.logo{
  width:150px;
  margin-bottom:10px;
}
.portada h1{
  font-size:2rem;
  margin-bottom:20px;
}
.portada img.collage{
  width:100%;
  border-radius:10px;
}

/* ---------- ÍNDICE ---------- */
.indice h2{
  margin-bottom:15px;
}
.indice li{
  list-style:none;
  padding:10px;
  border-bottom:1px solid #ddd;
}

/* ---------- CATEGORÍA ---------- */
.categoria-header{
  text-align:center;
  margin-bottom:20px;
}
.categoria-header img{
  width:100%;
  max-height:200px;
  object-fit:cover;
  border-radius:10px;
}
.categoria-header h2{
  margin-top:10px;
}

/* ---------- PRODUCTO ---------- */
.producto{
  position:relative;
  background:#fafafa;
  border-radius:10px;
  padding:15px;
  margin-bottom:20px;
}
.producto h3{
  margin-bottom:5px;
}
.precio{
  font-weight:bold;
  color:#2e7d32;
}
.stock{
  font-size:.9rem;
}

/* ---------- MEDIA ---------- */
.img-container{
  position:relative;
  margin:10px 0;
}
.media-wrapper img,
.media-wrapper video{
  width:100%;
  border-radius:10px;
}
.flecha{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  background:rgba(0,0,0,.5);
  color:white;
  border:none;
  font-size:20px;
  padding:10px;
}
.flecha.izq{left:5px;}
.flecha.der{right:5px;}

/* ---------- VARIANTES ---------- */
.variante{
  margin-top:5px;
  font-size:.9rem;
}
.variante.agotado{
  color:red;
  font-weight:bold;
}

/* ---------- AGOTADO ---------- */
.agotado::after{
  content:"✖";
  position:absolute;
  top:40%;
  left:50%;
  transform:translate(-50%,-50%);
  font-size:100px;
  color:red;
  opacity:.8;
}
</style>
</head>

<body>

<!-- ===== PORTADA ===== -->
<section class="page portada">
  <img src="images/logo.png" class="logo">
  <h1>Jugueteria Ara</h1>
  <img src="images/portada-collage.jpg" class="collage">
</section>

<!-- ===== ÍNDICE ===== -->
<section class="page indice page-break">
  <h2>Índice</h2>
  <ul>
    <li>Rompecabezas</li>
    <li>Carritos</li>
    <li>Mochilas y Bolsos</li>
    <li>Slimes, Fomi, Arena y Plastilina</li>
    <li>Squishies</li>
    <li>Burbujas</li>
    <li>Teclas y Musica</li>
    <li>Construcción y Destrucción </li>
    <li>Tecnología</li>
    <li>!!CAPIBARA CAPIBARA CAPIBARA¡¡</li>
    <li>Escolares</li>
    <li>Belleza</li>
    <li>Muñecas, cocina y... ¿LAGARTOS?</li>
    <li>Pelotas</li>
  </ul>
</section>

<!-- ===== CATEGORÍA ===== -->
<section class="page page-break">

  <div class="categoria-header">
    <h2>Rompecabezas</h2>
    <img src="images/rompecabezas/1.jpeg">
  </div>

  <!-- ===== PRODUCTO (COPIABLE) ===== -->
  <div class="producto" data-stock="5">

    <h3>Rompecabezas Mcqueen</h3>
    <p class="precio">$35</p>
    <p class="stock">Stock: 1</p>
  
    <!-- IMAGEN SIMPLE -->
    <img src="images/rompecabezas/2.jpeg" style="width:100%; border-radius:10px; margin-top:10px;">
  
  </div>
  <div class="producto" data-stock="5">

    <h3>Rompecabezas Avengers</h3>
    <p class="precio">$35</p>
    <p class="stock">Stock: 1</p>
  
    <!-- IMAGEN SIMPLE -->
    <img src="images/rompecabezas/3.jpeg" style="width:100%; border-radius:10px; margin-top:10px;">
  
  </div>
  <div class="producto" data-stock="5">

    <h3>Rompecabezas Letras</h3>
    <p class="precio">$40</p>
    <p class="stock">Stock: 1</p>
  
    <!-- IMAGEN SIMPLE -->
    <img src="images/rompecabezas/4.jpeg" style="width:100%; border-radius:10px; margin-top:10px;">
  
  </div>
  <div class="producto" data-stock="5">

    <h3>Rompecabezas Carros</h3>
    <p class="precio">$40</p>
    <p class="stock">Stock: 1</p>
  
    <!-- IMAGEN SIMPLE -->
    <img src="images/rompecabezas/5.jpeg" style="width:100%; border-radius:10px; margin-top:10px;">
  
  </div>
  <div class="producto" data-stock="5">

    <h3>Rompecabezas Formas</h3>
    <p class="precio">$40</p>
    <p class="stock">Stock: 1</p>
  
    <!-- IMAGEN SIMPLE -->
    <img src="images/rompecabezas/6.jpeg" style="width:100%; border-radius:10px; margin-top:10px;">
  
  </div>
  
 <!-- ===== FIN PRODUCTO ===== -->

</section>

<script>
/* CAMBIAR FOTO / VIDEO */
function cambiarMedia(btn, dir){
  const wrapper = btn.parentElement.querySelector(".media-wrapper");
  const media = JSON.parse(wrapper.dataset.media);
  let index = parseInt(wrapper.dataset.index || 0);
  index = (index + dir + media.length) % media.length;
  wrapper.dataset.index = index;
  wrapper.innerHTML = "";

  const actual = media[index];
  if(actual.tipo === "img"){
    const img = document.createElement("img");
    img.src = actual.src;
    wrapper.appendChild(img);
  }else{
    const video = document.createElement("video");
    video.src = actual.src;
    video.controls = true;
    wrapper.appendChild(video);
  }
}

/* MARCAR VARIANTES AGOTADAS */
document.querySelectorAll(".variante").forEach(v=>{
  if(parseInt(v.dataset.stock) === 0){
    v.classList.add("agotado");
    v.innerHTML += " ❌";
  }
});

/* MARCAR PRODUCTOS AGOTADOS */
document.querySelectorAll(".producto").forEach(producto => {
  const variantes = producto.querySelectorAll(".variante");
  let todasAgotadas = true;

  variantes.forEach(v => {
    const stock = parseInt(v.dataset.stock);

    if (stock === 0) {
      v.classList.add("agotado");
      if (!v.innerHTML.includes("❌")) {
        v.innerHTML += " ❌";
      }
    } else {
      todasAgotadas = false;
    }
  });

  /* SOLO si TODAS las variantes están agotadas */
  if (variantes.length > 0 && todasAgotadas) {
    producto.classList.add("agotado");
  }
});
</script>

</body>
</html>

